{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","bodyTag","document","querySelector","style","display","insertAdjacentHTML","table","getElementById","request","url","fetch","then","response","setTimeout","ok","Promise","reject","Error","status","json","getPhones","getPhonesDetails","phoneUrl","data","map","phone","id","phoneDetails","android","os","images"],"mappings":";AAAA,aAGA,IAAMA,EAAW,yDACXC,EAAUC,SAASC,cAAc,QAEvCD,SAASC,cAAc,MAAMC,MAAMC,QAAU,OAE7CJ,EAAQK,mBAAmB,aAA3B,8DAKA,IAAMC,EAAQL,SAASM,eAAe,gBAEhCC,EAAU,SAACC,GACRC,OAAAA,MAASX,GAAAA,OAAAA,EAAqBU,cAAAA,OAAAA,EAA9B,UACJE,KAAK,SAACC,GASEA,OARPC,WAAW,WACL,IAACD,EAASE,GACLC,OAAAA,QAAQC,OACb,IAAIC,MAASL,GAAAA,OAAAA,EAASM,OADjB,mBAIR,KAEIN,EAASO,UAIhBC,EAAY,WAAMZ,OAAAA,EAAQ,KAC1Ba,EAAmB,SAACC,GAAad,OAAAA,EAAYc,IAAAA,OAAAA,KAEnDrB,SAASC,cAAc,SAASG,mBAAmB,YAAnD,mIAUAe,IACGT,KAAK,SAAAY,GACJA,EAAKC,IAAI,SAAAC,GACPJ,EAAiBI,EAAMC,IACpBf,KAAK,SAAAgB,GACJrB,EAAMD,mBAAmB,YAEfsB,2BAAAA,OAAAA,EAAaD,GACbC,8BAAAA,OAAAA,EAAaC,QAAQC,GACZ9B,sCAAAA,OAAAA,GAAW4B,OAAAA,EAAaG,OAAO,GAJlD","file":"main.29713473.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/';\nconst bodyTag = document.querySelector('body');\n\ndocument.querySelector('h1').style.display = 'none';\n\nbodyTag.insertAdjacentHTML('afterbegin',\n  `<table>\n    <tbody id=\"listOfPhones\"></tbody>\n  </table>`);\n\nconst table = document.getElementById('listOfPhones');\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}api/phones${url}.json`)\n    .then((response) => {\n      setTimeout(() => {\n        if (!response.ok) {\n          return Promise.reject(\n            new Error(`${response.status} - not found`)\n          );\n        }\n      }, 1000);\n\n      return response.json();\n    });\n};\n\nconst getPhones = () => request('');\nconst getPhonesDetails = (phoneUrl) => request(`/${phoneUrl}`);\n\ndocument.querySelector('table').insertAdjacentHTML('beforeend',\n  `<thead>\n    <tr>\n      <td>Name of phone</td>\n      <td>Operation system</td>\n      <td>Image</td>\n    </tr>\n  </thead>\n`);\n\ngetPhones()\n  .then(data => {\n    data.map(phone => {\n      getPhonesDetails(phone.id)\n        .then(phoneDetails => {\n          table.insertAdjacentHTML('beforeend',\n            `<tr>\n              <td>${phoneDetails.id})</td>\n              <td>${phoneDetails.android.os}</td>\n              <td><img src=${BASE_URL}${phoneDetails.images[0]}></td>\n            </tr>\n          `);\n        });\n    });\n  });\n"]}